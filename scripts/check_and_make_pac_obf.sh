#!/usr/bin/env bash
# Obfuscated wrapper for check_and_make_pac.sh
# Decodes embedded base64 script and executes it
TMP_SCRIPT="$(mktemp /tmp/check_pac_XXXX.sh)"
cat > "$TMP_SCRIPT" <<'BASE64_EOF'
IyEvdXNyL2Jpbi9lbnYgYmFzaAojINin2LPYqtmB2KfYr9mHINin2LIgLWUg2KjYsdin24wg2K7YsdmI2Kwg2K/YsSDYtdmI2LHYqiDYqNix2YjYsiDYrti32Kcg2YggLXUg2KjYsdin24wg2KzZhNmI2q/bjNix24wg2KfYsiDYp9iz2KrZgdin2K/ZhyDYp9iyINmF2KrYutuM2LHZh9in24wg2KrYudix24zZgSDZhti02K/ZhwpzZXQgLWV1byBwaXBlZmFpbAoKIyDYp9uM2YYg2KfYs9qp2LHbjNm+2Kog2YfZhSDYqNmHINi12YjYsdiqINin2KrZiNmF2KfYqtuM2qkg2K/YsSDar9uM2KrigIzZh9in2Kgg2Kfaqdi02YYg2KfYrNix2Kcg2YXbjOKAjNi02YjYryDZiCDZh9mFINiv2LPYqtuMINmC2KfYqNmEINin2KzYsdin2LPYqi4KIyDYp9iz2KrZgdin2K/ZhzoKIyDYp9is2LHYp9uMINiv2LPYqtuMOiBiYXNoIHNjcmlwdHMvY2hlY2tfYW5kX21ha2VfcGFjLnNoIFtjaGVja3xtYWtlfGJvdGhdCiMg2K3Yp9mE2KrigIzZh9inOiBjaGVjayAo2KjYsdix2LPbjCDZvtix2Kfaqdiz24wp2IwgbWFrZSAo2LPYp9iu2KogUEFDKdiMIGJvdGggKNmH2LEg2K/ZiCkKIyDYr9ixINi12YjYsdiqINi52K/ZhSDZiNis2YjYryDYotix2q/ZiNmF2KfZhtiMINit2KfZhNiqINm+24zYtOKAjNmB2LHYtiAiYm90aCIg2KfYrNix2Kcg2YXbjOKAjNi02YjYry4KClRJTUVPVVQ9OApDSEVDS19VUkw9Imh0dHBzOi8vYXBpLmlwaWZ5Lm9yZyIKT1VUX1BBQz0icHJveGllcy5wYWMiCk9LX0xJU1Q9InByb3hpZXNfb2sudHh0IgpCQURfTElTVD0icHJveGllc19mYWlsZWQudHh0IgpUTVBESVI9InRtcCIKTUFYX0pPQlM9MTIKCiMg2KrYutuM24zYsSDZhdiz24zYsSDYqNmHINm+2YjYtNmHINin2LXZhNuMINm+2LHZiNqY2YcKY2QgIiQoZGlybmFtZSAiJDAiKS8uLiIgfHwgZXhpdCAxCgojINm+2KfaqSDaqdix2K/ZhiDZgdin24zZhOKAjNmH2KfbjCDYrtix2YjYrNuMINmC2KjZhNuMINmIINiz2KfYrtiqINmB2KfbjNmE4oCM2YfYp9uMINiu2KfZhNuMCnJtIC1mICIkT0tfTElTVCIgIiRCQURfTElTVCIgIiRPVVRfUEFDIgp0b3VjaCAiJE9LX0xJU1QiICIkQkFEX0xJU1QiCgojINiq2KfYqNi5INio2LHYp9uMINin2K/Yutin2YUg2YHYp9uM2YTigIzZh9inOiDYrdiw2YEg2qnYp9mF2YbYquKAjNmH2KfYjCDYrdiw2YEg2YHYttin2YfYp9uMINiu2KfZhNuMINin2LbYp9mB24wg2Ygg2K7Yt9mI2Lcg2K7Yp9mE24wKbWVyZ2VfZmlsZXMoKSB7CiAgbG9jYWwgZj0iJDEiCiAgaWYgW1sgLWYgIiRmIiBdXTsgdGhlbgogICAgIyBzZWQ6INit2LDZgSDZh9ixINqG24zYstuMINio2LnYryDYp9iyICMKICAgICMgYXdrOiDYrdiw2YEg2YHYttin2YfYp9uMINiu2KfZhNuMINin2KjYqtiv2Kcg2Ygg2KfZhtiq2YfYp9uMINiu2Lcg2Ygg2YHYtNix2K/Zh+KAjNiz2KfYstuMINmB2LbYp9mH2KfbjCDZhduM2KfZhtuMCiAgICAjIGdyZXA6INit2LDZgSDYrti32YjYtyDaqdin2YXZhNin2Ysg2K7Yp9mE24wKICAgIHNlZCAncy8jLiovL2cnICIkZiIgfCBhd2sgJ3skMT0kMX07MScgfCBncmVwIC1FICcuKycKICBmaQp9CgplY2hvICJbKl0g2K/YsduM2KfZgdiqINii24zigIzZvtuMINiu2KfYsdis24wg2YHYudmE24wg2LTZhdinLi4uIgojINiv2LHbjNin2YHYqiDYotuM4oCM2b7bjCDYrtin2LHYrNuMINiu2YjYr9iq2KfZhiDYqNix2KfbjCDYtNmG2KfYs9in24zbjCDZvtix2Kfaqdiz24zigIzZh9in24wg2LPYp9mE2YUKTE9DQUxfSVA9JChjdXJsIC1zIC0tbWF4LXRpbWUgJFRJTUVPVVQgIiRDSEVDS19VUkwiIHx8IGVjaG8gInVua25vd24iKQplY2hvICLYotuM4oCM2b7bjCDYtNmF2Kc6ICRMT0NBTF9JUCIKClBST1hJRVM9KCkKIyDYrNmF2LnigIzYotmI2LHbjCDZvtix2Kfaqdiz24zigIzZh9inINin2LIg2YHYp9uM2YTigIzZh9in24wg2YXZiNmC2KoKZm9yIGxpbmUgaW4gJChtZXJnZV9maWxlcyAiJFRNUERJUi9odHRwLnR4dCIpOyBkbwogIFBST1hJRVMrPSgiJGxpbmUiKQpkb25lCmZvciBsaW5lIGluICQobWVyZ2VfZmlsZXMgIiRUTVBESVIvc29ja3M1LnR4dCIpOyBkbwogIFBST1hJRVMrPSgiJGxpbmUiKQpkb25lCiMg2KzZhdi54oCM2KLZiNix24wg2b7Ysdin2qnYs9uM4oCM2YfYpyDYp9iyINmB2KfbjNmEIHByb3hpZXMudHh0CmlmIFtbIC1mICJwcm94aWVzLnR4dCIgXV07IHRoZW4KICB3aGlsZSBJRlM9IHJlYWQgLXIgbDsgZG8KICAgIFtbIC16ICIkbCIgXV0gJiYgY29udGludWUKICAgIFBST1hJRVMrPSgiJGwiKQogIGRvbmUgPCBwcm94aWVzLnR4dApmaQoKZWNobyAiWypdINiq2LnYr9in2K8g2qnZhCDZvtix2Kfaqdiz24zigIzZh9inOiAkeyNQUk9YSUVTW0BdfSIKCiMg2KrYp9io2Lkg2KfYtdmE24wg2KrYs9iqINm+2LHYp9qp2LPbjCAtINio2Ycg2LXZiNix2Kog2KzYr9in2q/Yp9mG2YcgZXhwb3J0INmF24zigIzYtNmI2K8g2KrYpyDYqtmI2LPYtyB4YXJncyDZgtin2KjZhCDYp9is2LHYpyDYqNin2LTYrwp0ZXN0X3Byb3h5X29uY2UoKSB7CiAgcHJveHk9IiQxIgogIHByb3RvPSIiCiAgdGFyZ2V0PSIkcHJveHkiCgogICMg2KrYtNiu24zYtSDZvtix2YjYqtqp2YQgKHNvY2tzNSDbjNinIGh0dHAvaHR0cHMpCiAgaWYgW1sgIiRwcm94eSIgPX4gXnNvY2tzNSBdXTsgdGhlbgogICAgcHJvdG89InNvY2tzNSIKICAgIHRhcmdldD0iJHtwcm94eSMqOi8vfSIgIyDYrdiw2YEgInNvY2tzNTovLyIKICBlbGlmIFtbICIkcHJveHkiID1+IF5odHRwcz86Ly8gXV07IHRoZW4KICAgIHByb3RvPSJodHRwIgogICAgdGFyZ2V0PSIke3Byb3h5Iyo6Ly99IiAjINit2LDZgSAiaHR0cChzKTovLyIKICBlbGlmIGVjaG8gIiRwcm94eSIgfCBncmVwIC1xICc6JzsgdGhlbgogICAgcHJvdG89Imh0dHAiCiAgICB0YXJnZXQ9IiRwcm94eSIgIyDZgdix2LYg2YXbjOKAjNqp2YbbjNmFINin2q/YsSDZvtix2YjYqtqp2YQg2LDaqdixINmG2LTYr9mHINio2KfYtNiv2IwgaHR0cCDYp9iz2KouCiAgZWxzZQogICAgcmV0dXJuIDEgIyDZgtin2YTYqCDZhtin2YXYudiq2KjYsQogIGZpCgogICMg2KrZhti424zZhSDar9iy24zZhtmH4oCM2YfYp9uMIGNVUkwg2KjYsSDYp9iz2KfYsyDZvtix2YjYqtqp2YQKICBpZiBbWyAiJHByb3RvIiA9PSAic29ja3M1IiBdXTsgdGhlbgogICAgY3VybF9vcHRzPSgtLXNvY2tzNS1ob3N0bmFtZSAiJHRhcmdldCIpCiAgZWxzZQogICAgY3VybF9vcHRzPSgteCAiaHR0cDovLyR0YXJnZXQiKQogIGZpCgogICMg2KrYs9iqINin2KrYtdin2YQ6INin2q/YsSDYotuM4oCM2b7bjCDYqNinINii24zigIzZvtuMINmE2Yjaqdin2YQg24zaqdiz2KfZhiDZhtio2KfYtNiv2Iwg2b7Ysdin2qnYs9uMINiz2KfZhNmFINin2LPYqi4KICBvdXQ9JChjdXJsIC1zICIke2N1cmxfb3B0c1tAXX0iIC0tbWF4LXRpbWUgJFRJTUVPVVQgLS1jb25uZWN0LXRpbWVvdXQgJFRJTUVPVVQgIiRDSEVDS19VUkwiIDI+L2Rldi9udWxsIHx8IGVjaG8gIiIpCgogICMg2KjYsdix2LPbjCDZhtiq24zYrNmHOiDYotuM2Kcg2K7YsdmI2KzbjCDYutuM2LEg2K7Yp9mE24wg2KfYs9iqINmIINio2Kcg2KLbjOKAjNm+24wg2YTZiNqp2KfZhCDbjNqp2LPYp9mGINmG24zYs9iq2J8KICBpZiBbWyAtbiAiJG91dCIgJiYgIiRvdXQiICE9ICIkTE9DQUxfSVAiIF1dOyB0aGVuCiAgICBlY2hvICIkcHJveHkiID4+ICIkT0tfTElTVCIKICAgIHJldHVybiAwICMg2b7Ysdin2qnYs9uMINiz2KfZhNmFCiAgZWxzZQogICAgZWNobyAiJHByb3h5IiA+PiAiJEJBRF9MSVNUIgogICAgcmV0dXJuIDEgIyDZvtix2Kfaqdiz24wg2K7Ysdin2KgKICBmaQp9CgojIGV4cG9ydCDaqdix2K/ZhiDYqtin2KjYuSDZiCDZhdiq2LrbjNix2YfYp9uMINmF2YjYsdivINmG24zYp9iyINio2LHYp9uMIHhhcmdzCmV4cG9ydCAtZiB0ZXN0X3Byb3h5X29uY2UKZXhwb3J0IE9LX0xJU1QgQkFEX0xJU1QgTE9DQUxfSVAgVElNRU9VVCBDSEVDS19VUkwKCiMgLS0tINin2KzYsdin24wg2K3Yp9mE2KogY2hlY2sgLS0tCiMg2KfYtdmE2KfYrSDYtNiv2Yc6INin2LPYqtmB2KfYr9mHINin2LIgJHsxOi19INio2LHYp9uMINis2YTZiNqv24zYsduMINin2LIg2K7Yt9in24wgdW5ib3VuZCB2YXJpYWJsZQppZiBbWyAiJHsxOi19IiA9PSAiY2hlY2siIHx8ICIkezE6LX0iID09ICJib3RoIiB8fCAteiAiJHsxOi19IiBdXTsgdGhlbgogIGVjaG8gIlsqXSDYtNix2YjYuSDYqNix2LHYs9uMINm+2LHYp9qp2LPbjOKAjNmH2KcuLi4iCiAgIyDYp9is2LHYp9uMINiq2LPYquKAjNmH2Kcg2KjZhyDYtdmI2LHYqiDZhdmI2KfYstuMINio2Kcg2KfYs9iq2YHYp9iv2Ycg2KfYsiB4YXJncwogIHByaW50ZiAiJXNcbiIgIiR7UFJPWElFU1tAXX0iIHwgeGFyZ3MgLVAgIiRNQVhfSk9CUyIgLUkge30gYmFzaCAtYyAndGVzdF9wcm94eV9vbmNlICIkQCInIF8ge30KICBlY2hvICJbKl0g2KrYudiv2KfYryDZvtix2Kfaqdiz24wg2LPYp9mE2YU6ICQod2MgLWwgPCAiJE9LX0xJU1QiKSIKICBlY2hvICJbKl0g2KrYudiv2KfYryDZvtix2Kfaqdiz24wg2K7Ysdin2Kg6ICQod2MgLWwgPCAiJEJBRF9MSVNUIikiCmZpCgojIC0tLSDYp9is2LHYp9uMINit2KfZhNiqIG1ha2UgLS0tCiMg2KfYtdmE2KfYrSDYtNiv2Yc6INin2LPYqtmB2KfYr9mHINin2LIgJHsxOi19INio2LHYp9uMINis2YTZiNqv24zYsduMINin2LIg2K7Yt9in24wgdW5ib3VuZCB2YXJpYWJsZQppZiBbWyAiJHsxOi19IiA9PSAibWFrZSIgfHwgIiR7MTotfSIgPT0gImJvdGgiIHx8IC16ICIkezE6LX0iIF1dOyB0aGVuCiAgaWYgW1sgLXMgIiRPS19MSVNUIiBdXTsgdGhlbgogICAgcHJveHk9JChoZWFkIC1uIDEgIiRPS19MSVNUIikKICAgICMg2KrYsdmB2YbYryDYs9in2K/ZhyDYqNix2KfbjCDYsdmF2LLar9iw2KfYsduMIChvYmZ1c2NhdGlvbikg2b7Ysdin2qnYs9uMCiAgICBwcm94eV9vYmZ1c2NhdGVkPSQoZWNobyAiJHByb3h5IiB8IHJldikKICAgIAogICAgIyDYs9in2K7YqiDZgdin24zZhCBQQUMKICAgIGNhdCA+ICIkT1VUX1BBQyIgPDxFT0YKZnVuY3Rpb24gRmluZFByb3h5Rm9yVVJMKHVybCwgaG9zdCkgewogIC8vINin24zZhiDbjNqpINiq2LHZgdmG2K8g2LPYp9iv2Ycg2KjYsdin24wg2LHZhdiy2q/YsNin2LHbjCDYsdi02KrZhyAiUFJPWFkiINin2LPYqi4KICB2YXIgcCA9ICJZIiArICJYIiArICJPIiArICJSIiArICJQIjsKICB2YXIgcHJveHkgPSBwLnNwbGl0KCIiKS5yZXZlcnNlKCkuam9pbigiIikgKyAiICIgKyAiJHByb3h5X29iZnVzY2F0ZWQiLnNwbGl0KCIiKS5yZXZlcnNlKCkuam9pbigiIik7CiAgcmV0dXJuIHByb3h5ICsgIjsgRElSRUNUIjsKfQpFT0YKICAgIGVjaG8gIlsqXSDZgdin24zZhCBQQUMg2KjYpyDZvtix2Kfaqdiz24wg2LPYp9mE2YUg2LPYp9iu2KrZhyDYtNivOiAkT1VUX1BBQyIKICBlbHNlCiAgICBlY2hvICJbIV0g2b7Ysdin2qnYs9uMINiz2KfZhNmFINm+24zYr9inINmG2LTYr9iMINmB2KfbjNmEIFBBQyDYs9in2K7YqtmHINmG2LTYry4iCiAgZmkKZmkKCmVjaG8gIlsqXSDYp9iz2qnYsduM2b7YqiDYqNinINmF2YjZgdmC24zYqiDYp9is2LHYpyDYtNivLiIKZWNobyAi2KjYsdin24wg2KfYrNix2KfbjCDYr9iz2KrbjCDaqdin2YHbjCDYp9iz2Kog2K/Ys9iq2YjYsSDYstuM2LEg2LHYpyDYqNiy2YbbjNivOiIKZWNobyAiYmFzaCBzY3JpcHRzL2NoZWNrX2FuZF9tYWtlX3BhYy5zaCBbY2hlY2t8bWFrZXxib3RoXSIK
BASE64_EOF
base64 -d "$TMP_SCRIPT" > "${TMP_SCRIPT}.dec"
chmod +x "${TMP_SCRIPT}.dec"
bash "${TMP_SCRIPT}.dec" "$@"
# cleanup
rm -f "$TMP_SCRIPT" "${TMP_SCRIPT}.dec"
